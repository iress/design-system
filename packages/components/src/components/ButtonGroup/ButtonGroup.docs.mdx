import { Meta } from '@storybook/addon-docs/blocks';
import * as ComponentStories from './ButtonGroup.stories';
import {
  ComponentExample,
  ComponentOverview,
} from '@iress-oss/ids-storybook-config';
import { SourceType } from 'storybook/internal/docs-tools';

<Meta of={ComponentStories} />

# ButtonGroup

<ComponentOverview
  description="ButtonGroup allows users to switch between two or more possible states. ButtonGroups are only used for actions that occur immediately after the user “flips the switch”."
  of={ComponentStories.ButtonChildren}
  meta={ComponentStories}
/>

## Usage

Button Group requires some `label` text to describe what the group of buttons represent. The `label` text can be visually hidden (but still read by screenreaders) using the `hiddenLabel` prop.

The `children` prop should contain multiple `IressButton` components.

You can use the `onChange` prop to watch when a button is clicked.

**Note:**

- The `options` props, originally used to map a set of strings to `IressButton`, has been deprecated. Instead, you can use array.map to map the options to `IressButton` in your own application.
- The `mode` prop on `IressButton` is not supported when used inside an `IressButtonGroup`.

<ComponentExample of={ComponentStories.ButtonChildren} />

## Examples

### Rich buttons

By passing the buttons as children you have more control over the display of the button allowing you to use icons or tooltips.

**Note:** In this case, please set the `value` prop on the `IressButton` component to ensure the correct value is used when the button is clicked.

<ComponentExample of={ComponentStories.RichButtons} />

### Multi-select

By default, only one button in the group can be selected at a time. By setting the `multiple` prop, multiple buttons can be selected.

<ComponentExample of={ComponentStories.MultiSelect} />

### Pre-selecting buttons

Buttons within the group can be pre-selected using the `defaultSelected` prop (for uncontrolled components), or the `selected` prop if you are planning to control the state yourself.

If the button group is in its default single select mode, these props expects a string that matches the text of one of the buttons, or the `value` prop of the button if it has been set.

In multi-select mode, these props expects an array of matching strings.

<ComponentExample of={ComponentStories.SelectedSingle} />
<ComponentExample of={ComponentStories.SelectedMultiple} />

### `onChange` event

The Button Group emits an event when any of the selected buttons change. The event detail (`ButtonGroupChange`) consist of a string or an array of strings (depending on if it's in single or multi select mode) that represents the selected button(s).

<ComponentExample
  of={ComponentStories.OnChange}
  source={{ type: SourceType.CODE }}
/>

### Hidden label

If you would like to visually hide the label, you can use the `hiddenLabel` prop.

<ComponentExample of={ComponentStories.HiddenLabel} />

### Headings as labels

For semantic reasons, you may need the label to be rendered as a heading. In this case, you can pass the element directly to the `label` prop. The component will automatically add the `id` required to connect the button group to its label.

<ComponentExample
  of={ComponentStories.HeadingLabel}
  source={{ type: SourceType.CODE }}
/>
