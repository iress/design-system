import { Meta } from '@storybook/addon-docs/blocks';
import { ComponentExample } from '@iress-oss/ids-storybook-config';
import { IressAlert } from '../../main';
import * as ComponentStories from './NavbarRecipes.stories';

<Meta of={ComponentStories} />

# Recipes

## Custom navbars

At its essence, the navbar component is a coloured panel. This means you can easily create custom navbars by creating your own content structure and passing everything into the `children` slot.

If you're creating a custom navbar, there are a few things to be aware of. Firstly, some props may not work; for example, the `horizontalAlign` prop won't be applied if there's nothing in the `nav` slot. Similarly, the breakpoint prop won't work if there's nothing in the `nav` slot as it's designed to show and hide `nav` slot content. You can still create responsive designs, but you'll need to set this up yourself.

Secondly, you'll need to make sure your content is accessible; for example using a `nav` element with an `aria-label` when you add navigation links.

### Custom responsive navbar

This example uses existing IDS components to create a custom responsive navbar. On smaller screens the main `nav` in the `IressNavbar` is hidden, and a menu button is shown. The menu button triggers a slideout that contains the nav links.

<ComponentExample
  of={ComponentStories.CustomResponsiveNavbar}
  meta={ComponentStories}
/>

### Custom navbar with other IDS components

Not all navbars contain navigation links; often they contain global actions or filters. The example below shows a navbar containing a user dropdown, two buttons and a global search field.

Because there are no navigation links, we don't need to add a nav element in this example.

<ComponentExample
  of={ComponentStories.CustomConsumingNavbar}
  meta={ComponentStories}
/>

## Secondary navigation

<IressAlert status={IressAlert.Status.Warning} className="iress-mb--md">
  The Navbar component should only be used for primary navigation.
</IressAlert>

If your site has secondary navigation, you can use the Menu component. Here are a few examples.

### Navbar combined with secondary navigation

You can use an `IressPanel` component to render the secondary navigation directly below your navbar. Use an `IressMenu` component for the links, and make sure you wrap it in a `nav` element. You'll need to add an `aria-label` to the `nav` element to make sure its purpose is clear to screen reader users.

<ComponentExample
  of={ComponentStories.NavbarWithSecondaryNavigation}
  meta={ComponentStories}
/>

### Icon strips

You can change your secondary navigation to an icon strip by passing in icons to the `IressMenuItem` component. This can be rendered as a vertical strip (default), or a horizontal strip (by setting the `IressMenu` layout to `inline`).

The example below has some custom CSS to fix the menu to the side of its container. This includes setting `--iress-initial-offset` on the slideout element to ensure the slideout is correctly positioned next to the icon strip.

<ComponentExample of={ComponentStories.IconStrip} meta={ComponentStories} />

### Fixed navigation

A common pattern for small screens is to fix navigation links at the bottom of the screen. This can be done by applying some custom CSS to your secondary navigation.

<ComponentExample
  of={ComponentStories.FixedNavigation}
  meta={ComponentStories}
/>
