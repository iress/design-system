import { Meta, Markdown } from '@storybook/blocks';
import {
  ComponentOverview,
  ComponentExample,
} from '@iress-storybook/components';
import { IressInline } from '../../main';
import * as CardStories from './Card.stories';
import * as CardClickableStories from './CardClickable.stories';
import * as CardSlotsStories from './CardSlots.stories';

<Meta of={CardStories} />

# Card

<ComponentOverview
  description="Cards are used to group small, related pieces of information into one digestible unit."
  readMore={(<Markdown>{`
A single card will typically include a few different types of media, such as an image, a title, a synopsis, a call-to-action button or sub actions buttons - all associated with the same concept.

Cards can be configured in a variety of ways. You can use the render props (slots) if you want to create a structured layout, or you can create a custom card with your own markup if you need more flexibility.
`}</Markdown>)}
story={CardStories.Default}
stories={CardStories}
/>

## Examples

### Simple cards

All slots and props for card are optional. You can create a simple card by adding some content to the default slot.

<ComponentExample story={CardStories.Simple} stories={CardStories} />

### Padding

Padding can be controlled using the `padding` prop. It can be set to `none`, `sm`, `md` or `lg`. It defaults to `md`.

<ComponentExample story={CardStories.Padding} stories={CardStories} />

### Stretch

The `stretch` prop can be used to stretch the card to fill its container.

<ComponentExample story={CardStories.Stretch} stories={CardStories} />

### Selected

Setting the `selected` prop highlights the card, usually to allow selection in a list.

<ComponentExample story={CardStories.Selected} stories={CardStories} />

## Render props (slots)

If you're coming from v4 or earlier, you might be used to slots. In v5, we've replaced slots with render props which align with the React API. Render props allow you to create a structured layout for your card, while still having the flexibility to add custom content. They are simply functions that return JSX, so you can pass any component you like.

However, please be diligent as the component you use may not fit withing the confines of the `IressCard` layout.

### Prepend

Use the `prepend` prop to add content to the left side of the card.

<ComponentExample story={CardSlotsStories.Prepend} stories={CardStories} />

### Top Right

Use the `topRight` prop to add content to the top right of the card. This is useful for adding a badge, icon, or an actions menu.

<ComponentExample story={CardSlotsStories.TopRight} stories={CardStories} />

### Heading

Use the `heading` prop to add a header to the card. The header can be any component you like, but it is designed to support a simple heading element, optionally wrapped with a link.

**Note:** `headingText` and `headingLevel` props have been replaced with the `heading` render prop to give you more control over the heading element and its content. To use the previous behaviour, you can pass a string which will automatically create a `h2` element, or pass a `h*` element with the text as a child.

<ComponentExample story={CardSlotsStories.Heading} stories={CardStories} />

### Media

Use the `media` prop to add media to the card. The media can be any component you like, but it is designed to support an image or video.

<ComponentExample story={CardSlotsStories.Media} stories={CardStories} />

### Content

Use the `content` prop to add content to the card. The content can be any component you like, but it is designed to support simple text based elements.

<ComponentExample story={CardSlotsStories.Content} stories={CardStories} />

### Footer

Use the `footer` prop to add a footer to the card. The footer can be any component you like, but it is designed to support buttons.

<ComponentExample story={CardSlotsStories.Footer} stories={CardStories} />

### All slots

You can use all the slots together to create a custom card layout.

<ComponentExample story={CardSlotsStories.AllSlots} stories={CardStories} />

## Clickable cards

Note: The `clickable` prop has been deprecated in favour of using component variations, or the `onClick` prop.

### Heading only

Since the `heading` prop now renders the component you give it, you have full control over the content of the `heading`. This means you can add pass it a heading with a link.

<ComponentExample
  story={CardClickableStories.HeadingOnly}
  stories={CardClickableStories}
/>

### Whole card

The whole card can be made clickable by passing an `onClick` prop. All the appropriate styling will be added as well.

It's recommended to add `role="button"` and `tabindex="0"` to the card to make it clear to screen readers that the card is clickable.

<ComponentExample
  story={CardClickableStories.WholeCard}
  stories={CardClickableStories}
/>

### Links and Buttons

To simplify the process of making the whole card clickable, you can use the `IressLinkCard` and `IressButtonCard` components. These components look exactly the same as the `IressCard` component, however their base tags are different, allowing you to use them exactly like you would a html link and button.

**Note:** These components replace the `button`, `clickable` and `href` props. You no longer need `button` and `clickable`, as these are automatically inferred. To mimic the `href` prop, simply change the component you are using to `IressLinkCard`.

<IressInline
  gutter={IressInline.Gutter.Md}
  horizontalAlign={IressInline.HorizontalAlign.Around}
>
  <ComponentExample
    story={CardClickableStories.ButtonCard}
    stories={CardClickableStories}
  />
  <ComponentExample
    story={CardClickableStories.LinkCard}
    stories={CardClickableStories}
  />
</IressInline>
