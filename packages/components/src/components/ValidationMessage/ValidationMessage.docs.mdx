import { Meta } from '@storybook/addon-docs/blocks';
import {
  ComponentOverview,
  ComponentExample,
} from '@iress-oss/ids-storybook-config';
import * as ComponentStories from './ValidationMessage.stories';
import * as ValidationLinkStories from './ValidationLink/ValidationLink.stories';
import * as ValidationSummaryStories from './ValidationSummary/ValidationSummary.stories';

<Meta of={ComponentStories} />

# Validation message

<ComponentOverview
  description={
    <>
      A validation message is used to inform the user of the status of a form
      input. If there are multiple messages, they can be combined using the{' '}
      <code>IressValidationSummary</code> component.
    </>
  }
  of={ComponentStories.Default}
  meta={ComponentStories}
/>

## Examples

### Status

Validation status is controled by the status prop. It defaults to `error`.

<ComponentExample of={ComponentStories.Status} />

### Prefix

You can add a prefix to the message. If not provided, it uses the `status` prop to determine the prefix.

It is hidden by default, but can be shown by setting the `visiblePrefix` prop to `true`.

<ComponentExample of={ComponentStories.Prefix} />

## `IressValidationLink`

The `IressValidationLink` component can be used to provide a link to the input that has the error. It has a `linkToTarget` prop that should match the `id` of the input.

<ComponentExample
  api={{
    heading: 'Props',
    headingId: 'link-api',
  }}
  of={ValidationLinkStories.ValidationLink}
/>

## `IressValidationSummary`

Messages can be passed programmatically as a `ValidationMessageObj[]` using the `messages` prop of the `IressValidationSummary` component.

<ComponentExample
  api={{
    heading: 'Props',
    headingId: 'summary-api',
  }}
  of={ValidationSummaryStories.ValidationSummary}
/>
