import { Meta } from '@storybook/addon-docs/blocks';
import * as ComponentStories from './ValidationMessage.stories';
import * as ValidationSummaryStories from './ValidationSummary/ValidationSummary.stories';
import {
  ComponentExample,
  ComponentOverview,
} from '@iress-oss/ids-storybook-config';

<Meta of={ComponentStories} />

# Validation message

<ComponentOverview
  description={
    <>
      A validation message is used to inform the user of the status of a form
      input. If there are multiple messages, they can be combined using the{' '}
      <code>IressValidationSummary</code> component.
    </>
  }
  of={ComponentStories.Default}
  meta={ComponentStories}
/>

## Examples

### Status

Validation status is controlled by the status prop. It defaults to `error`.

<ComponentExample of={ComponentStories.Status} />

### Prefix

You can add a prefix to the message. If not provided, it uses the `status` prop to determine the prefix.

It is hidden by default, but can be shown by setting the `visiblePrefix` prop to `true`.

<ComponentExample of={ComponentStories.Prefix} />

### Link to target

You can use the `linkToTarget` prop to link the message to a specific target in the DOM. This is useful to take the user to a specific part of the form when they click on the message.

<ComponentExample of={ComponentStories.LinkToTarget} />

## `IressValidationSummary`

Messages can be passed programmatically as a `ValidationMessageObj[]` using the `messages` prop of the `IressValidationSummary` component.

<ComponentExample
  api={{
    heading: 'Props',
    headingId: 'summary-api',
  }}
  of={ValidationSummaryStories.ValidationSummary}
  meta={ValidationSummaryStories}
/>
