import { Meta } from '@storybook/addon-docs/blocks';
import {
  ComponentOverview,
  ComponentExample,
} from '@iress-oss/ids-storybook-config';
import { IressAlert } from '../../main';
import * as ComponentStories from './Icon.stories';

<Meta of={ComponentStories} />

# Icon

<ComponentOverview
  description="Icons enhance experiences by visually communicating meaning, actions, status, and feedback."
  of={ComponentStories.Default}
  meta={ComponentStories}
/>
## Installation

If you are planning to include the `<IressIcon />` component in your application, you need to include the Font Awesome CSS.

The easiest way to import the Font Awesome CSS is to use the `combined.css` file and add it to the `<head />` if your application. This file includes both the [Pro Light](https://fontawesome.com/v5/search?o=r&s=light) and [Brand](https://fontawesome.com/v5/search?o=r&f=brands) icon sets.

<IressAlert status="info" heading="Microfrontends" className="iress-mb--md">
  If you are using a Microfrontend, you need to include the Font Awesome CSS in
  the parent application as well as the Microfrontend. This is because
  `@font-face` declarations are not supported inside the Shadow DOM.
</IressAlert>

```html
<link
  href="https://cdn.iress.com/icons/5.15.4/css/combined.min.css"
  rel="stylesheet"
/>
```

## Supported library sets and names

`IressIcon` currently supports Font Awesome (V5) [Light](https://fontawesome.com/v5/search?o=r&s=light) and [Brand](https://fontawesome.com/v5/search?o=r&f=brands) sets. The library sets are controlled by the `set` prop and it defaults to the Light set (`fal`).

The `name` prop controls which icon is shown, and needs to match the icon name exactly as displayed on the [Font Awesome website](https://fontawesome.com/v5/search). Icon names should be lower case, and separated by hyphens where required; for example `home-alt` or `check-circle.` Icon names should not include the `fa-` prefix.

## Behaviour

### Screen Reader Text

By default icons are hidden from screen readers. The `screenreaderText` prop makes icons visible to screen readers users, providing a description of the icon.

If you use an icon to improve the visual appeal of content, for example by replacing the default list icons with tick marks when listing product features, you don't need to add any screen reader text.

If you use an icon to convey meaning, for example using an icon as the only content inside a button, you do need to supply a value for the `screenreaderText`; if you don't the button meaning will be completely lost for screen reader users.

<ComponentExample
  of={ComponentStories.ScreenReaderText}
  meta={ComponentStories}
/>

### Size

The `size` prop can be used to control sizing of the icon.

<ComponentExample of={ComponentStories.Size} meta={ComponentStories} />

### Mode

The `mode` prop can be used to set the colour of the icon to these predefined mode colours: Body, Muted, Primary, Info, Success, Warning, Danger, Positive and Negative.

<ComponentExample of={ComponentStories.Mode} meta={ComponentStories} />

### Flip

The `flip` prop can be set to horizontal, vertical or both.

<ComponentExample of={ComponentStories.Flip} meta={ComponentStories} />

### Rotate

The `rotate` prop can be set to 90, 180 or 270 degrees.

<ComponentExample of={ComponentStories.Rotate} meta={ComponentStories} />

### Spin

The `spin` prop can be set to half (fastest), 1, 2 or 3 (slowest) to control the speed of the icon spin animation, useful for loading spinners.

<ComponentExample of={ComponentStories.Spin} meta={ComponentStories} />

### Fixed Width

Because of the wide variety of Font Awesome icons, not every icon is the same size. This can cause alignment issued when the icons stack vertically, so you can use the `fixedWidth` prop to ensure each icon is the same width. Very useful when using icons in menus.

<ComponentExample of={ComponentStories.FixedWidth} meta={ComponentStories} />

## Examples

### External link

Version 4 of IDS included some bespoke styles to make an "external link" icon in an `IressText` component look nice. We've removed these in V5 as we found they were having unintended side effects. If you still wish to style your external link icons, you can use either some custom CSS (like below) or simply make the icon size `xs`:

<ComponentExample of={ComponentStories.ExternalLink} meta={ComponentStories} />
