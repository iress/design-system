import { Meta } from '@storybook/addon-docs/blocks';

import {
  ComponentOverview,
  ComponentExample,
} from '@iress-storybook/components';

import * as ToasterStories from './Toaster.stories';

<Meta of={ToasterStories} />

# Toaster

<ComponentOverview
  description="Toaster provide users with important, time-sensitive information."
  story={ToasterStories.Provider}
  stories={ToasterStories}
/>

## Usage

To use the toaster, wrap your `<App/>` or the component that you want to use the toasts within with `<IressToasterProvider />`. This provides the context for the `useToaster` hook, which is used to trigger toasts in your application.

You can use the `success`, `info` and `error` methods from the hook to trigger toasts in your application.

<ComponentExample story={ToasterStories.Provider} stories={ToasterStories} />

### Closing toasts via the provider

If you want to dismiss a toast programmatically, you can use the `close` method from the `useToaster` hook. This method takes a toast ID as an argument, which is returned when you create a toast using the `useToaster` hook.

<ComponentExample story={ToasterStories.Close} stories={ToasterStories} />

## Examples

### Status

The toast offers three status that set a distinctive colour and icon. They can be set using the `status` prop. Their different use cases are described here.

<ComponentExample story={ToasterStories.Statuses} stories={ToasterStories} />

### Timeout

By default, toasts will time out after six seconds, after which they will animate out of view. This can be customised using the `timeout` prop when created using the `useToaster` hook.

Timeouts must be set in milliseconds; as an example, if you want a timeout of five seconds, set the timeout to 5000.

<ComponentExample story={ToasterStories.Timeout} stories={ToasterStories} />

### Position

By default, the `IressToasterProvider`'s `position` is set to `bottom-end`, but there may be occasions when you need toasts to appear in a different part of the screen. This can be controlled with the `position` prop on the `IressToasterProvider` component, or as the first argument to `useToaster`. There are 6 positions to choose from.

**Note:** The toast position should be consistent based on context, so users can find them easily.

<ComponentExample story={ToasterStories.Position} stories={ToasterStories} />

## Migrating from version 4 and below

### Adding the provider

For your components to work as previously, you will need to set up the `IressToasterProvider` at the root of your application. This will allow you to use the `useToaster` hook to trigger toasts from anywhere in your application using the status and props of the toast.

```tsx
const App = () => <IressToasterProvider>Rest of app here</IressToasterProvider>;
```
