import { Meta } from '@storybook/addon-docs/blocks';

import {
  ComponentOverview,
  ComponentExample,
} from '@iress-oss/ids-storybook-config';

import * as ToasterStories from './Toaster.stories';

<Meta of={ToasterStories} />

# Toaster

<ComponentOverview
  description="Toaster provide users with important, time-sensitive information."
  of={ToasterStories.Provider}
  meta={ToasterStories}
/>

## Controlling toasts

### Using the `IressToasterProvider`

The recommended way to create toasts is by using the `<IressToasterProvider />` alongside the `useToaster` hook. By using the `success`, `info` and `error` methods from the hook, you can trigger toasts in your application.

To use, wrap your `<App/>` or the component that you want to use the `useToaster` hook with `<IressToasterProvider />`.

<ComponentExample of={ToasterStories.Provider} meta={ToasterStories} />

### Closing toasts via the provider

If you want to dismiss a toast programmatically, you can use the `close` method from the `useToaster` hook. This method takes a toast ID as an argument, which is returned when you create a toast using the `useToaster` hook.

<ComponentExample of={ToasterStories.Close} meta={ToasterStories} />

## Examples

### Status

The toast offers three status that set a distinctive colour and icon. They can be set using the `status` prop. Their different use cases are described here.

<ComponentExample of={ToasterStories.Statuses} meta={ToasterStories} />

### Timeout

By default, toasts will time out after six seconds, after which they will animate out of view. This can be customised using the `timeout` prop when created using the `useToaster` hook.

Timeouts must be set in milliseconds; as an example, if you want a timeout of five seconds, set the timeout to 5000.

<ComponentExample of={ToasterStories.Timeout} meta={ToasterStories} />

### Position

By default, the `IressToaster`'s `position` is set to `bottom-end`, but there may be occasions when you need toasts to appear in a different part of the screen. This can be controlled with the `position` prop on the `IressToasterProvider` component, or as the first argument to `useToaster`. There are 6 positions to choose from.

**Note:** The toast position should be consistent across your app. For this reason, the position is set on the `IressToastProvider` or the `useToaster` hook, and not on the individual toasts.

<ComponentExample of={ToasterStories.Position} meta={ToasterStories} />

## Migrating to version 5

### Adding the provider

For your components to work as previously, you will need to set up the `IressToasterProvider` at the root of your application. This will allow you to use the `useToaster` hook to trigger toasts from anywhere in your application using the status and props of the toast.

```tsx
const App = () => <IressToasterProvider>Rest of app here</IressToasterProvider>;
```
